--FUNCTION
SET SERVEROUTPUT ON;
CREATE OR REPLACE FUNCTION CHECK_DONOR_AVAILABILITY_FUNC
RETURN NUMBER IS
DONOR_CNT NUMBER(10):=0;
BEGIN
SELECT COUNT(*) INTO DONOR_CNT FROM DONOR WHERE d_age > 18 AND bmi > 19 AND (SYSDATE - last_donated_date) >= 90;
RETURN DONOR_CNT;
END CHECK_DONOR_AVAILABILITY_FUNC;
/
DECLARE
DCOUNT NUMBER(10);
BEGIN
DCOUNT:=CHECK_DONOR_AVAILABILITY_FUNC;
DBMS_OUTPUT.PUT_LINE(DCOUNT || 'Â  DONORS ARE AVAILABLE');
END;
